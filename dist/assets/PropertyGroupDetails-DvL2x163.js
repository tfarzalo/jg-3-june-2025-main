import{s as e,j as s}from"./index-BXIsiie0.js";import{k as t,u as r,r as a,L as d}from"./react-vendor--AdGielI.js";import{B as i,a0 as l,M as c,q as n,a1 as x,I as o,a4 as m}from"./ui-a3QeRpHh.js";import"./supabase-Dq0wjmmz.js";function p(){const{id:p}=t(),h=r(),[g,y]=a.useState(null),[j,b]=a.useState(!0),[u,N]=a.useState(null);a.useEffect((()=>{p&&"null"!==p?f():h("/dashboard/property-groups")}),[p,h]);const f=async()=>{if(p&&"null"!==p)try{const{data:s,error:t}=await e.from("property_management_groups").select("\n          *,\n          properties:properties(\n            id,\n            property_name,\n            address,\n            city,\n            state\n          )\n        ").eq("id",p).single();if(t)throw t;if(!s)throw new Error("Property group not found");y(s)}catch(s){N(s instanceof Error?s.message:"Failed to fetch property group"),setTimeout((()=>h("/dashboard/property-groups")),2e3)}finally{b(!1)}};return p&&"null"!==p?j?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u||!g?s.jsx("div",{className:"p-6 bg-gray-100 dark:bg-[#0F172A]",children:s.jsx("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-500/50 text-red-700 dark:text-red-200 px-4 py-3 rounded",children:u||"Property group not found"})}):s.jsxs("div",{className:"p-6 bg-gray-100 dark:bg-[#0F172A] min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(i,{className:"h-8 w-8 text-gray-600 dark:text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.company_name})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{type:"button",onClick:()=>h(`/dashboard/property-groups/${g.id}/edit`),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[s.jsx(l,{className:"h-4 w-4 mr-2"}),"Edit Group"]}),s.jsx("button",{type:"button",onClick:()=>h("/dashboard/property-groups"),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-400 bg-white dark:bg-[#1E293B] border border-gray-300 dark:border-[#2D3B4E] rounded-lg hover:bg-gray-50 dark:hover:bg-[#2D3B4E] transition-colors",children:"Back to List"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-lg p-6 shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Group Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(c,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mt-1 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Address"}),s.jsxs("p",{className:"text-gray-900 dark:text-white",children:[g.address,g.address_2&&s.jsxs("span",{children:[s.jsx("br",{}),g.address_2]}),s.jsx("br",{}),g.city,", ",g.state," ",g.zip]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(n,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mt-1 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Contact Name"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:g.contact_name||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(x,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mt-1 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Contact Phone"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:g.contact_phone||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(o,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mt-1 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Contact Email"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:g.contact_email||"Not specified"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1E293B] rounded-lg p-6 shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Properties"}),s.jsx("div",{className:"space-y-4",children:g.properties&&g.properties.length>0?g.properties.map((e=>s.jsxs("div",{className:"flex items-start",children:[s.jsx(m,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mt-1 mr-3"}),s.jsxs("div",{children:[s.jsx(d,{to:`/dashboard/properties/${e.id}`,className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 block",children:e.property_name}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:[e.address,", ",e.city,", ",e.state]})]})]},e.id))):s.jsx("p",{className:"text-gray-600 dark:text-gray-400 italic",children:"No properties assigned to this group"})})]})]})]}):null}export{p as PropertyGroupDetails};
